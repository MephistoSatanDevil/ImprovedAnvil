BEGIN ~TFWEAGUA~

IF ~NumTimesTalkedTo(0)~ THEN BEGIN 0
  SAY @5200
  IF ~!Class(LastTalkedToBy,DRUID_ALL)~ THEN REPLY @5201 GOTO 1
  IF ~Class(LastTalkedToBy,DRUID_ALL)~ THEN REPLY @5202 GOTO 1
  IF ~~ THEN REPLY @5203 GOTO 2
END

IF ~~ THEN BEGIN 1
  SAY @5204
  IF ~~ THEN DO ~SetGlobal("Tfbattle","AR1904",1)~ EXIT
END

IF ~~ THEN BEGIN 2
  SAY @5205
  IF ~~ THEN REPLY @5206 GOTO 3
END

IF ~~ THEN BEGIN 3
  SAY @5207
  IF ~Class(LastTalkedToBy,MAGE_ALL)~ THEN REPLY @5208 GOTO 4
  IF ~!Class(LastTalkedToBy,MAGE_ALL)~ THEN REPLY @5209 GOTO 4
  IF ~~ THEN REPLY @5210 GOTO 5
END

IF ~~ THEN BEGIN 4
  SAY @5211
  IF ~!Class(LastTalkedToBy,DRUID_ALL)~ THEN REPLY @5201 GOTO 1
  IF ~Class(LastTalkedToBy,DRUID_ALL)~ THEN REPLY @5202 GOTO 1
  IF ~~ THEN REPLY @5210 GOTO 5
  IF ~~ THEN REPLY @5212 GOTO 5
END

IF ~~ THEN BEGIN 5
  SAY @5213
  IF ~~ THEN DO ~SetGlobal("Tfbattle","AR1904",1)~ EXIT
END